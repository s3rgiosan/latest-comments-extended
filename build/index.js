(()=>{"use strict";const e=window.wp.hooks,t=window.wp.blockEditor,l=window.wp.components,o=window.wp.coreData,n=window.wp.data,s=window.wp.element,a=window.wp.i18n,r=window.ReactJSXRuntime;(0,e.addFilter)("blocks.registerBlockType","latestCommentsExtended/addAttributes",((e,t)=>"core/latest-comments"!==t?e:{...e,attributes:{...e.attributes,postType:{type:"string",default:""}}})),(0,e.addFilter)("editor.BlockEdit","latestCommentsExtended/addInspectorControls",(e=>i=>{const{name:p,attributes:d,setAttributes:c}=i,{postType:m}=d;if("core/latest-comments"!==p)return(0,r.jsx)(e,{...i});const u=(0,n.useSelect)((e=>{const{getPostTypes:t}=e(o.store),l=["attachment"],n=t({per_page:-1})?.filter((({viewable:e,slug:t})=>e&&!l.includes(t)));return n}),[]),_=(0,s.useMemo)((()=>[{label:(0,a.__)("All","latest-comments-extended"),value:""},...(u||[]).map((({labels:e,slug:t})=>({label:e.singular_name,value:t})))]),[u]),w=(0,a.__)("Post type"),x=(0,a.__)("Select the content type to filter comments by.","latest-comments-extended"),b=e=>c({postType:e});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e,{...i}),(0,r.jsx)(t.InspectorControls,{children:(0,r.jsx)(l.__experimentalToolsPanel,{label:(0,a.__)("Filters"),resetAll:()=>{b("")},children:(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!!m,label:w,onDeselect:()=>b(""),children:_.length>2?(0,r.jsx)(l.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,options:_,value:m,label:w,onChange:b,help:x}):(0,r.jsx)(l.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,value:m,label:w,onChange:b,help:x,children:_.map((e=>(0,r.jsx)(l.__experimentalToggleGroupControlOption,{value:e.value,label:e.label},e.value)))})})})})]})}))})();